{"remainingRequest":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/moge/dafei/study_project/Vue/test-cli3/src/views/apply.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/src/views/apply.vue","mtime":1548923253458},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport addressList from '@/config/address';\nimport searchMap from '@/components/map';\nexport default {\n  name: 'apply',\n  data () {\n    return {\n      address: ['安徽','铜陵市','铜官区'], //省市区\n      street: '', //具体街道\n      addressList: addressList,\n      storename:'',\n      location:'',\n      showMap:false\n    }\n  },\n  methods: {\n    closeDialog (location) {\n      this.showMap = false;\n      if (location) {\n        this.location = location;\n        this.street = location.name;\n      }\n    },\n    selectAddress (address) {\n      this.address = address;\n    },\n    bindapply () {\n      if (this.storename =='') {\n        return this.$message.error('请输入店铺名称');\n      }\n      if (this.address =='') {\n        return this.$message.error('请输入店铺地址');\n      }\n      if (this.street =='') {\n        return this.$message.error('请输入具体地址');\n      }\n      let data = {\n        store_name:this.storename,\n        address:this.address.join('/'),\n        street:this.street,\n        geo:[this.location.lng,this.location.lat],\n        privileges: 3, /*店长注册*/\n      }\n      this.$store.dispatch('apply/SETSTOREINFO',data).then(()=>{\n        this.$store.dispatch('login/GET_STORE_INFO');\n        this.$router.push({name: 'main.container.overview'})\n      });\n    }\n  },\n  components: {\n    searchMap\n  }\n}\n",{"version":3,"sources":["apply.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"apply.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"apply\">\n      <div class=\"apply-main sys-flex\">\n        <div class=\"apply-title\">创建一个店铺</div>\n          <div class=\"sys-flex form-item\">\n            <el-col :span=\"5\">\n              <div class=\"demo-input-suffix\">\n                店铺名称:\n              </div>\n            </el-col>\n            <el-col :span=\"16\">\n              <el-input\n                size=\"small\"\n                placeholder=\"请输入店铺名称\"\n                v-model=\"storename\">\n              </el-input>\n            </el-col>\n          </div>\n          <div class=\"sys-flex form-item\">\n            <el-col :span=\"5\">\n              <div class=\"demo-input-suffix\">\n                店铺地址:\n              </div>\n            </el-col>\n            <el-col :span=\"16\">\n              <el-cascader\n                change-on-select\n                :options=\"addressList\"\n                v-model=\"address\"\n                @change=\"selectAddress\"\n                placeholder=\"省/市/区\"\n              ></el-cascader>\n            </el-col>\n          </div>\n          <div class=\"sys-flex form-item\">\n            <el-col :span=\"5\">\n              <div class=\"demo-input-suffix\">\n              </div>\n            </el-col>\n            <el-col :span=\"16\">\n              <el-input\n                size=\"small\"\n                placeholder=\"具体地址\"\n                v-model=\"street\"\n                @focus=\"showMap=true\">\n              </el-input>\n            </el-col>\n          </div>\n          <search-map v-if=\"showMap\" @closeDialog=\"closeDialog\" :city=\"address[1]\"></search-map>\n        <el-button size=\"medium\" type=\"primary\" @click=\"bindapply\">立即开通</el-button>\n      </div>\n  </div>\n</template>\n<script>\nimport addressList from '@/config/address';\nimport searchMap from '@/components/map';\nexport default {\n  name: 'apply',\n  data () {\n    return {\n      address: ['安徽','铜陵市','铜官区'], //省市区\n      street: '', //具体街道\n      addressList: addressList,\n      storename:'',\n      location:'',\n      showMap:false\n    }\n  },\n  methods: {\n    closeDialog (location) {\n      this.showMap = false;\n      if (location) {\n        this.location = location;\n        this.street = location.name;\n      }\n    },\n    selectAddress (address) {\n      this.address = address;\n    },\n    bindapply () {\n      if (this.storename =='') {\n        return this.$message.error('请输入店铺名称');\n      }\n      if (this.address =='') {\n        return this.$message.error('请输入店铺地址');\n      }\n      if (this.street =='') {\n        return this.$message.error('请输入具体地址');\n      }\n      let data = {\n        store_name:this.storename,\n        address:this.address.join('/'),\n        street:this.street,\n        geo:[this.location.lng,this.location.lat],\n        privileges: 3, /*店长注册*/\n      }\n      this.$store.dispatch('apply/SETSTOREINFO',data).then(()=>{\n        this.$store.dispatch('login/GET_STORE_INFO');\n        this.$router.push({name: 'main.container.overview'})\n      });\n    }\n  },\n  components: {\n    searchMap\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  #apply{\n    width: 100%;\n    height: 100vh;\n    background-image: url('https://img.aimoge.com/FhRDlT9Kk5Wu1mbzcn_NSnDa0Ls8/style1080.png');\n    background-size: 100% 100%;\n    background-repeat: no-repeat;\n    overflow: hidden;\n  }\n  .apply-title{\n    padding: 10px;\n    text-align: center;\n    font-size: 18px;\n  }\n  .apply-main{\n    width: 400px;\n    height: 270px;\n    flex-direction: column;\n    box-sizing: border-box;\n    align-items: center;\n    margin:0 auto;\n    margin-top: 160px;\n    border:1px solid #efefef;\n    border-radius: 5px;\n    background-color: #fff;\n    .el-button{\n      margin-top:5px;\n      width: 60%;\n      border-radius: 0;\n    }\n    .form-item{\n      width: 100%;\n      padding:10px 15px 10px 25px;\n      align-items: center;\n      .demo-input-suffix{\n        font-size: 13px;\n      }\n      .el-cascader{\n        width: 100%;\n        .el-input{\n          input{\n            height: 32px;\n            border-radius: 0;\n          }\n        }\n      }\n      .el-input{\n        input{\n          border-radius: 0;\n        }\n      }\n      &:last-child {\n        margin-bottom:120px;\n      }\n    }\n    #container{\n      width: 200px;\n      height: 100px;\n    }\n  }\n</style>\n"]}]}