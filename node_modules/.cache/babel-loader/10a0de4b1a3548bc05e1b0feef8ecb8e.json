{"remainingRequest":"/Users/moge/dafei/study_project/Vue/saas/node_modules/babel-loader/lib/index.js!/Users/moge/dafei/study_project/Vue/saas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moge/dafei/study_project/Vue/saas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/moge/dafei/study_project/Vue/saas/src/views/Containers/goods/goodsCats.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/moge/dafei/study_project/Vue/saas/src/views/Containers/goods/goodsCats.vue","mtime":1548901366806},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"/Users/moge/dafei/study_project/Vue/saas/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UTILS from '@/utils/utils';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'goodscats',\n  data: function data() {\n    return {\n      userinfo: UTILS.storage.get('userinfo'),\n      multipleSelection: [],\n      disabled: true,\n      loading: true,\n      dialogVisible: false,\n      form: {\n        name: ''\n      },\n      formLabelWidth: '60px'\n    };\n  },\n  computed: _objectSpread({}, mapState('product_category', {\n    categorysList: function categorysList(state) {\n      return state.categorysList;\n    }\n  }), mapState('login', {\n    storeStatus: function storeStatus(state) {\n      return state.storeStatus;\n    }\n  })),\n  created: function created() {\n    this.getCategorys();\n  },\n  methods: {\n    /*列表全选分类*/\n    selectAllcatesGorys: function selectAllcatesGorys(val) {\n      this.multipleSelection = val;\n      this.disabled = this.multipleSelection.length ? false : true;\n    },\n\n    /*获取分类列表*/\n    getCategorys: function getCategorys() {\n      var _this = this;\n\n      var data = {\n        store_id: this.userinfo.store_id || this.userinfo.store_info[0]['_id']\n      };\n      this.loading = true;\n      this.$store.dispatch('product_category/GET_CATEGORYS', data).then(function () {\n        _this.loading = false;\n      }).catch(function (e) {\n        _this.loading = false;\n        console.error(e);\n      });\n    },\n\n    /*分类名称更改*/\n    editCatesgorys: function editCatesgorys(catesgory_id) {\n      var _this2 = this;\n\n      this.$prompt('请输入新的分类名称', '修改分类', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(function (_ref) {\n        var value = _ref.value;\n        var data = {\n          cats_name: value,\n          catesgory_id: catesgory_id\n        };\n\n        _this2.$store.dispatch('product_category/UPDATE_CATEGORYS', data).then(function () {\n          _this2.getCategorys();\n        });\n      }).catch(function (e) {\n        console.error(e);\n      });\n    },\n\n    /*打开分类modal*/\n    addcats: function addcats() {\n      this.dialogVisible = true;\n    },\n\n    /*新增分类*/\n    submit: function submit() {\n      var _this3 = this;\n\n      if (this.form.name == '') {\n        return this.$message.error('请输入分类名称');\n      }\n\n      console.log(this.form.name, 'this.form.name');\n      var data = {\n        cats_name: this.form.name,\n        store_id: this.userinfo.store_id || this.userinfo.store_info[0]['_id']\n      };\n      this.dialogVisible = false;\n      this.$store.dispatch('product_category/SET_CATEGORYS', data).then(function () {\n        _this3.getCategorys();\n      });\n    },\n\n    /*删除分类*/\n    deleteCatesgorys: function deleteCatesgorys(catesgory_id) {\n      var _this4 = this;\n\n      this.$confirm('确认删除该分类?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this4.$store.dispatch('product_category/DELETE_CATEGORYS', catesgory_id).then(function () {\n          _this4.getCategorys();\n        });\n      }).catch(function () {\n        console.log('取消');\n      });\n    },\n\n    /*删除选中分类*/\n    deletegoodCates: function deletegoodCates() {}\n  }\n};",{"version":3,"sources":["goodsCats.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"goodscats\">\n    <el-row>\n      <el-col :span=\"24\">\n         <div class=\"btn-add sys-flex\">\n           <el-button size=\"small\" type=\"primary\" :disabled=\"!storeStatus.canhandle\" @click=\"addcats\">新增分类</el-button>\n         </div>\n      </el-col>\n    </el-row>\n    <el-table\n      :data=\"categorysList\"\n      ref=\"multipleTable\"\n      tooltip-effect=\"dark\"\n      @selection-change=\"selectAllcatesGorys\"\n      v-loading=\"loading\"\n      style=\"width: 100%\">\n      <el-table-column\n        type=\"selection\"\n        width=\"33\">\n      </el-table-column>\n      <el-table-column\n        prop=\"category_name\"\n        fixed=\"left\"\n        label=\"分类名称\"\n        width=\"200px\">\n      </el-table-column>\n      <el-table-column\n        prop=\"create_time\"\n        fixed=\"left\"\n        label=\"创建时间\"\n        width=\"200px\">\n      </el-table-column>\n      <el-table-column\n        prop=\"upts_time\"\n        fixed=\"left\"\n        label=\"更新时间\"\n        width=\"200px\">\n      </el-table-column>\n      <el-table-column\n        fixed=\"left\"\n        label=\"操作\"\n        width=\"500\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"editCatesgorys(scope.row.category_id)\" type=\"text\" size=\"small\">编辑</el-button>\n          <el-button @click=\"deleteCatesgorys(scope.row.category_id)\" type=\"text\" size=\"small\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-row>\n      <el-col :span=\"2\">\n            <el-button size=\"mini\" :disabled=\"disabled\" @click=\"deletegoodCates\">删除</el-button>\n      </el-col>\n    </el-row>\n    <el-dialog title=\"新增分类\" width=\"40%\" :visible.sync=\"dialogVisible\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"名称:\" :label-width=\"formLabelWidth\">\n          <el-input placeholder=\"请输入分类名称\" v-model=\"form.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submit\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport UTILS from '@/utils/utils'\nimport { mapState } from 'vuex'\nexport default {\n  name: 'goodscats',\n  data () {\n    return {\n      userinfo:UTILS.storage.get('userinfo'),\n      multipleSelection:[],\n      disabled: true,\n      loading:true,\n      dialogVisible:false,\n      form: {\n        name: ''\n      },\n      formLabelWidth: '60px'\n    }\n  },\n  computed: {\n    ...mapState('product_category',{\n        categorysList: state => state.categorysList\n    }),\n    ...mapState('login',{\n        storeStatus:state => state.storeStatus,\n    })\n  },\n  created () {\n    this.getCategorys();\n  },\n  methods: {\n    /*列表全选分类*/\n    selectAllcatesGorys(val) {\n      this.multipleSelection = val;\n      this.disabled = this.multipleSelection.length ? false : true\n    },\n    /*获取分类列表*/\n    getCategorys () {\n      let data = {\n        store_id:this.userinfo.store_id || this.userinfo.store_info[0]['_id']\n      }\n      this.loading = true;\n      this.$store.dispatch('product_category/GET_CATEGORYS',data).then(()=>{\n        this.loading = false;\n      }).catch(e=>{\n        this.loading = false;\n        console.error(e);\n      })\n    },\n    /*分类名称更改*/\n    editCatesgorys (catesgory_id) {\n      this.$prompt('请输入新的分类名称', '修改分类', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({ value }) => {\n        let data = {\n          cats_name: value,\n          catesgory_id\n        }\n        this.$store.dispatch('product_category/UPDATE_CATEGORYS',data).then(()=>{\n          this.getCategorys();\n        })\n      }).catch((e) => {\n        console.error(e);\n      });\n    },\n    /*打开分类modal*/\n    addcats () {\n      this.dialogVisible = true;\n    },\n    /*新增分类*/\n    submit () {\n      if (this.form.name==''){\n        return this.$message.error('请输入分类名称');\n      }\n      console.log(this.form.name,'this.form.name')\n      let data = {\n        cats_name: this.form.name,\n        store_id:this.userinfo.store_id || this.userinfo.store_info[0]['_id']\n      }\n      this.dialogVisible = false;\n      this.$store.dispatch('product_category/SET_CATEGORYS',data).then(()=>{\n        this.getCategorys();\n      })\n    },\n    /*删除分类*/\n    deleteCatesgorys (catesgory_id) {\n      this.$confirm('确认删除该分类?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$store.dispatch('product_category/DELETE_CATEGORYS',catesgory_id).then(()=>{\n          this.getCategorys();\n        })\n      }).catch(() => {\n        console.log('取消')\n     });\n    },\n    /*删除选中分类*/\n    deletegoodCates () {\n\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  #goodscats{\n    background-color: #FFF;\n    padding:10px;\n    .btn-add{\n      margin:10px 0 0 0;\n      padding-bottom: 20px;\n      border-bottom: 1px solid #efefef;\n    }\n    .el-col{\n      margin:10px;\n    }\n    .dialog-footer{\n      width: 100%;\n      text-align: center;\n      .el-button{\n        width: 90%;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/Containers/goods"}]}