{"remainingRequest":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/thread-loader/dist/cjs.js!/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/babel-loader/lib/index.js!/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/moge/dafei/study_project/Vue/test-cli3/src/views/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/src/views/register.vue","mtime":1548898170900},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/test-cli3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport API from '@/http';\nimport FORM from '@/utils/form';\nexport default {\n  name: 'register',\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      repassword: '',\n      isloading: false\n    };\n  },\n  computed: {\n    isDisabled: function isDisabled() {\n      var checkmobile = FORM.checkmobile(this.username) == true,\n          checkpwd = FORM.checkpwd(this.password) == true,\n          checkrepwd = !!this.repassword != '',\n          checkequal = Boolean(this.password == this.repassword);\n      return !(checkmobile && checkpwd && checkrepwd && checkequal);\n    }\n  },\n  methods: {\n    submit: function submit() {\n      if (FORM.checkmobile(this.username) != true) return this.$message.error(FORM.checkmobile(this.username));\n      if (FORM.checkpwd(this.password) != true) return this.$message.error(FORM.checkpwd(this.password));\n      if (this.repassword == '') return this.$message.error('请输入确认密码');\n      if (this.password !== this.repassword) return this.$message.error('两次密码不一致');\n      this.register();\n    },\n    register: function register() {\n      var _this = this;\n\n      this.isloading = true;\n      var loading = this.$loading();\n      API.register({\n        user_name: this.username,\n        password: this.password\n      }).then(function () {\n        _this.$message('注册成功');\n\n        _this.$router.push({\n          name: 'login'\n        });\n      }).catch(function (err) {\n        _this.$message.error(err.msg);\n      }).finally(function () {\n        loading.close();\n        _this.isloading = false;\n      });\n    }\n  }\n};",{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,OAAA,GAAA,MAAA,QAAA;AACA,OAAA,IAAA,MAAA,cAAA;AACA,eAAA;AACA,QAAA,UADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,gBAAA,EADA;AAEA,gBAAA,EAFA;AAGA,kBAAA,EAHA;AAIA,iBAAA;AAJA,KAAA;AAMA,GATA;AAUA,YAAA;AACA,cADA,wBACA;AACA,UAAA,cAAA,KAAA,WAAA,CAAA,KAAA,QAAA,KAAA,IAAA;AAAA,UACA,WAAA,KAAA,QAAA,CAAA,KAAA,QAAA,KAAA,IADA;AAAA,UAEA,aAAA,CAAA,CAAA,KAAA,UAAA,IAAA,EAFA;AAAA,UAGA,aAAA,QAAA,KAAA,QAAA,IAAA,KAAA,UAAA,CAHA;AAIA,aAAA,EAAA,eAAA,QAAA,IAAA,UAAA,IAAA,UAAA,CAAA;AACA;AAPA,GAVA;AAmBA,WAAA;AACA,UADA,oBACA;AACA,UAAA,KAAA,WAAA,CAAA,KAAA,QAAA,KAAA,IAAA,EAAA,OAAA,KAAA,QAAA,CAAA,KAAA,CAAA,KAAA,WAAA,CAAA,KAAA,QAAA,CAAA,CAAA;AACA,UAAA,KAAA,QAAA,CAAA,KAAA,QAAA,KAAA,IAAA,EAAA,OAAA,KAAA,QAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,KAAA,QAAA,CAAA,CAAA;AACA,UAAA,KAAA,UAAA,IAAA,EAAA,EAAA,OAAA,KAAA,QAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,QAAA,KAAA,KAAA,UAAA,EAAA,OAAA,KAAA,QAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AACA,WAAA,QAAA;AACA,KAPA;AAQA,YARA,sBAQA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,UAAA,UAAA,KAAA,QAAA,EAAA;AACA,UAAA,QAAA,CAAA;AAAA,mBAAA,KAAA,QAAA;AAAA,kBAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,YAAA;AACA,cAAA,QAAA,CAAA,MAAA;;AACA,cAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA;AAAA,SAAA;AACA,OAHA,EAGA,KAHA,CAGA,eAAA;AACA,cAAA,QAAA,CAAA,KAAA,CAAA,IAAA,GAAA;AACA,OALA,EAKA,OALA,CAKA,YAAA;AACA,gBAAA,KAAA;AACA,cAAA,SAAA,GAAA,KAAA;AACA,OARA;AASA;AApBA;AAnBA,CAAA","sourcesContent":["<template>\n  <div id=\"register\">\n    <div class=\"nav-login-main f-7 fixed\">\n        <span>已有账号?</span>\n        <span class=\"btn-login\" @click=\"$router.push({name: 'login'})\">登录</span>\n    </div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"16\" :offset=\"4\"><div class=\"grid-content f-13\">注册账号</div></el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"16\" :offset=\"4\">\n        <div class=\"grid-content\">\n          <el-input\n            placeholder=\"手机号\"\n            prefix-icon=\"el-icon-vue-zhanghao\"\n            v-model.number=\"username\">\n          </el-input>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"16\" :offset=\"4\">\n        <div class=\"grid-content\">\n          <el-input\n            type=\"password\"\n            placeholder=\"密码\"\n            prefix-icon=\"el-icon-vue-mima\"\n            v-model=\"password\">\n          </el-input>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"16\" :offset=\"4\">\n        <div class=\"grid-content\">\n          <el-input\n            type=\"password\"\n            placeholder=\"请再次确认密码\"\n            prefix-icon=\"el-icon-vue-mima\"\n            v-model=\"repassword\">\n          </el-input>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\" >\n      <el-col :span=\"16\" :offset=\"4\">\n        <div class=\"grid-content\">\n          <el-button type=\"primary\" :disabled=\"isDisabled\" :loading=\"isloading\" @click=\"submit\">注册</el-button>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport API from '@/http'\nimport FORM from '@/utils/form'\nexport default {\n  name: 'register',\n  data () {\n    return {\n      username: '',\n      password: '',\n      repassword:'',\n      isloading: false\n    }\n  },\n  computed:{\n    isDisabled () {\n      let checkmobile = FORM.checkmobile(this.username)==true,\n          checkpwd = FORM.checkpwd(this.password)==true,\n          checkrepwd = !!this.repassword!='',\n          checkequal = Boolean(this.password==this.repassword);\n      return !(checkmobile && checkpwd&&checkrepwd&&checkequal)\n    }\n  },\n  methods: {\n    submit () {\n      if (FORM.checkmobile(this.username)!=true)return this.$message.error(FORM.checkmobile(this.username));\n      if (FORM.checkpwd(this.password)!=true)return this.$message.error(FORM.checkpwd(this.password));\n      if (this.repassword=='') return this.$message.error('请输入确认密码');\n      if (this.password!==this.repassword) return this.$message.error('两次密码不一致');\n      this.register();\n    },\n    register () {\n      this.isloading = true;\n      let loading = this.$loading();\n      API.register({user_name:this.username,password:this.password}).then(()=>{\n         this.$message('注册成功');\n         this.$router.push({name: 'login'});\n      }).catch(err=>{\n         this.$message.error(err.msg);\n      }).finally(()=>{\n        loading.close();\n        this.isloading = false;\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  #register{\n    width: 500px;\n    height: 300px;\n    margin:15% auto;\n    .nav-login-main{\n      right: 20px;\n      top:20px;\n      .btn-login{\n        color: #409EFF;\n        padding-left: 10px;\n        cursor: pointer;\n      }\n    }\n    .el-row {\n        margin-bottom: 20px;\n        &:last-child {\n          margin-bottom: 0;\n        }\n        .el-col {\n          .el-input{\n            border-radius: 0;\n          }\n          .el-button{\n            width: 100%;\n          }\n        }\n     }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}