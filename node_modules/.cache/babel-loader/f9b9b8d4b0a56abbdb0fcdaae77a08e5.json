{"remainingRequest":"/Users/moge/dafei/study_project/Vue/saas/node_modules/thread-loader/dist/cjs.js!/Users/moge/dafei/study_project/Vue/saas/node_modules/babel-loader/lib/index.js!/Users/moge/dafei/study_project/Vue/saas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moge/dafei/study_project/Vue/saas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/moge/dafei/study_project/Vue/saas/src/components/map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/moge/dafei/study_project/Vue/saas/src/components/map.vue","mtime":1548923037835},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/cache-loader/dist/cjs.js","mtime":1538991184695},{"path":"/Users/moge/dafei/study_project/Vue/saas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'searchmap',\n  data: function data() {\n    var _this = this;\n\n    return {\n      markers: [],\n      mapCenter: [121.59996, 31.197646],\n      plugin: [{\n        pName: 'Geolocation',\n        events: {\n          init: function init(o) {\n            // o 是高德地图定位插件实例\n            o.getCurrentPosition(function (status, result) {\n              if (result && result.position) {\n                console.log(result);\n                _this.lng = result.position.lng;\n                _this.lat = result.position.lat;\n                _this.mapCenter = [result.position.lng, result.position.lat];\n\n                _this.$nextTick();\n              }\n            });\n          }\n        }\n      }],\n      searchOption: {\n        city: '铜陵市',\n        citylimit: true\n      },\n      dialogVisible: true,\n      markerlocation: {}\n    };\n  },\n  created: function created() {\n    this.dialogVisible = true;\n    this.searchOption.city = this.city;\n    console.log(this.searchOption.city, 'this.searchOption.city');\n  },\n  props: {\n    city: {\n      type: String,\n      default: '铜陵市'\n    }\n  },\n  methods: {\n    closeDialog: function closeDialog() {\n      this.$emit('closeDialog', this.markerlocation);\n    },\n    onSearchResult: function onSearchResult(pois) {\n      // let latSum = 0;\n      // let lngSum = 0;\n      if (pois.length > 0) {\n        // pois.forEach(poi => {\n        //   let {lng, lat} = poi;\n        //   lngSum += lng;\n        //   latSum += lat;\n        // });\n        this.markers.push([pois[0].lng, pois[0].lat]); // let center = {\n        //   lng: lngSum / pois.length,\n        //   lat: latSum / pois.length\n        // };\n\n        this.mapCenter = [pois[0].lng, pois[0].lat];\n        this.markerlocation = pois[0];\n        console.log(this.markerlocation, 'this.markerlocation');\n      }\n    }\n  }\n};",{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,QAAA,WADA;AAEA,MAFA,kBAEA;AAAA;;AACA,WAAA;AACA,eAAA,EADA;AAEA,iBAAA,CAAA,SAAA,EAAA,SAAA,CAFA;AAGA,cAAA,CAAA;AACA,eAAA,aADA;AAEA,gBAAA;AACA,gBAAA,cAAA,CAAA,EAAA;AACA;AACA,cAAA,kBAAA,CAAA,UAAA,MAAA,EAAA,MAAA,EAAA;AACA,kBAAA,UAAA,OAAA,QAAA,EAAA;AACA,wBAAA,GAAA,CAAA,MAAA;AACA,sBAAA,GAAA,GAAA,OAAA,QAAA,CAAA,GAAA;AACA,sBAAA,GAAA,GAAA,OAAA,QAAA,CAAA,GAAA;AACA,sBAAA,SAAA,GAAA,CAAA,OAAA,QAAA,CAAA,GAAA,EAAA,OAAA,QAAA,CAAA,GAAA,CAAA;;AACA,sBAAA,SAAA;AACA;AACA,aARA;AASA;AAZA;AAFA,OAAA,CAHA;AAoBA,oBAAA;AACA,cAAA,KADA;AAEA,mBAAA;AAFA,OApBA;AAwBA,qBAAA,IAxBA;AAyBA,sBAAA;AAzBA,KAAA;AA2BA,GA9BA;AA+BA,SA/BA,qBA+BA;AACA,SAAA,aAAA,GAAA,IAAA;AACA,SAAA,YAAA,CAAA,IAAA,GAAA,KAAA,IAAA;AACA,YAAA,GAAA,CAAA,KAAA,YAAA,CAAA,IAAA,EAAA,wBAAA;AACA,GAnCA;AAoCA,SAAA;AACA,UAAA;AACA,YAAA,MADA;AAEA,eAAA;AAFA;AADA,GApCA;AA0CA,WAAA;AACA,eADA,yBACA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,cAAA;AACA,KAHA;AAIA,kBAJA,0BAIA,IAJA,EAIA;AACA;AACA;AACA,UAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,CAAA,KAAA,CAAA,EAAA,GAAA,EAAA,KAAA,CAAA,EAAA,GAAA,CAAA,EANA,CAOA;AACA;AACA;AACA;;AACA,aAAA,SAAA,GAAA,CAAA,KAAA,CAAA,EAAA,GAAA,EAAA,KAAA,CAAA,EAAA,GAAA,CAAA;AACA,aAAA,cAAA,GAAA,KAAA,CAAA,CAAA;AACA,gBAAA,GAAA,CAAA,KAAA,cAAA,EAAA,qBAAA;AACA;AACA;AAtBA;AA1CA,CAAA","sourcesContent":["<template>\n  <div class=\"searchmap\">\n    <el-dialog\n    title=\"请选择地点\"\n    :visible.sync=\"dialogVisible\"\n    @close=\"closeDialog\"\n    width=\"50%\">\n    <div class=\"demo-input-suffix sys-flex\">\n    </div>\n    <div class=\"amap-wrapper\">\n      <el-amap-search-box class=\"search-box abs\" :search-option=\"searchOption\" :on-search-result=\"onSearchResult\"></el-amap-search-box>\n      <el-amap vid=\"amapDemo\" :center=\"mapCenter\" :plugin=\"plugin\" :zoom=\"12\" class=\"amap-demo\">\n        <el-amap-marker v-if=\"markers.length\"  v-for=\"marker in markers\" :position=\"marker\" ></el-amap-marker>\n      </el-amap>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer sys-flex\">\n      <el-button @click=\"closeDialog\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"closeDialog\">确 定</el-button>\n    </span>\n  </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'searchmap',\n  data() {\n      return {\n        markers: [],\n         mapCenter: [121.59996, 31.197646],\n         plugin: [{\n           pName: 'Geolocation',\n           events: {\n             init:(o)=> {\n               // o 是高德地图定位插件实例\n               o.getCurrentPosition((status, result) => {\n                 if (result && result.position) {\n                   console.log(result);\n                   this.lng = result.position.lng;\n                   this.lat = result.position.lat;\n                   this.mapCenter = [result.position.lng, result.position.lat];\n                   this.$nextTick();\n                 }\n               });\n             }\n           }\n         }],\n         searchOption: {\n           city: '铜陵市',\n           citylimit: true\n         },\n        dialogVisible: true,\n        markerlocation:{},\n      };\n  },\n  created () {\n    this.dialogVisible = true;\n    this.searchOption.city = this.city;\n    console.log(this.searchOption.city,'this.searchOption.city')\n  },\n  props:{\n    city:{\n      type:String,\n      default:'铜陵市'\n    }\n  },\n  methods: {\n    closeDialog () {\n      this.$emit('closeDialog',this.markerlocation);\n    },\n    onSearchResult(pois) {\n        // let latSum = 0;\n        // let lngSum = 0;\n        if (pois.length > 0) {\n          // pois.forEach(poi => {\n          //   let {lng, lat} = poi;\n          //   lngSum += lng;\n          //   latSum += lat;\n          // });\n          this.markers.push([pois[0].lng, pois[0].lat]);\n          // let center = {\n          //   lng: lngSum / pois.length,\n          //   lat: latSum / pois.length\n          // };\n          this.mapCenter = [pois[0].lng, pois[0].lat];\n          this.markerlocation = pois[0];\n          console.log(this.markerlocation,'this.markerlocation')\n        }\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n    .amap-wrapper {\n      width: 100%;\n      height: 250px;\n      position: relative;\n    }\n    .search-box{\n      width: 60%!important;\n      margin: 10px;\n      position: absolute!important;\n    }\n    .dialog-footer{\n      margin:0 30%;\n      .el-button{\n        flex:1;\n        border-radius: 0;\n        margin-left: 10px;\n      }\n    }\n</style>\n"],"sourceRoot":"src/components"}]}